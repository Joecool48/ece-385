/*
 * background.h
 *
 *  Created on: Dec 3, 2018
 *      Author: joey
 */

#ifndef INCLUDE_BACKGROUND_H_
#define INCLUDE_BACKGROUND_H_
#include <vector>
#include "colliders.h"
using namespace std;

class Background : public Sprite {
	// Function to scroll background either right or left.
public:
	void scrollBackgroundX (int moveAmount);
	void drawBackground();
	void drawWindow(); // Draws all the sprites to the screen after the background
	void updateBackground();
	void initBackground(); // Initializes everything on the background
	uint16_t deadZoneLeft; // The left and right of the dead zone.
	uint16_t deadZoneRight;
	uint16_t maxScrollSpeed;
	// Center of the window in reference from (0,0) NOT X
	uint16_t screenCenterX;
	uint16_t window_width; // Max width in both dimensions
	uint16_t window_height;
	// Returns true if a item collides with the player
	Rect_Collider mushroomCollidedWithPlayer();
	Rect_Collider fireflowerCollidedWithPlayer();
	// Remove said item from rendering
	void removeItemByCollider(Rect_Collider & collider);
	void removeEnemyByCollider(Rect_Collider & collider);
	Rect_Collider collidedWithEnemy();
	// No need to notify for platforms. Background will handle those physics
	Background(); // Init background with a player
	~Background();
private:
	vector<Background_Object*> collidable_background_objects; // Objects that aren't seperate sprites, but are still collidable on the map; These update every frame with the background
	Player * current_player;
	vector<Enemy*> enemies;
	vector<Item*> items;
};


#endif /* INCLUDE_BACKGROUND_H_ */
